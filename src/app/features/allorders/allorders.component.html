<section class="bg-white p-4 rounded-lg shadow">
  <h1 class="mb-3 text-xl font-bold text-mainColor">All Orders</h1>

  @if (cartItemData.length > 0) {
    @for (order of cartItemData; track order._id) {
      <div class="mb-8 border border-gray-300 rounded-lg shadow-md p-4">
        <!-- عنوان الأوردر -->
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-bold">
            OrderID: {{ order.id }}
          </h3>
          <p class="text-sm text-gray-500">
            Date: {{ order.createdAt | date:'medium' }}
          </p>
        </div>

        <!-- جدول المنتجات -->
        <div class="overflow-x-auto">
          <table class="min-w-full border border-gray-200">
            <thead class="bg-mainColor text-white">
              <tr>
                <th class="px-4 py-2 border">Count</th>
                <th class="px-4 py-2 border">Title</th>
                <th class="px-4 py-2 border">Brand</th>
                <th class="px-4 py-2 border">Category</th>
                <th class="px-4 py-2 border">Image</th>
                <th class="px-4 py-2 border">Price</th>
              </tr>
            </thead>
            <tbody>
              @for (item of order.cartItems; track item._id) {
                <tr class="text-center">
                  <td class="px-4 py-2 border">{{ item.count }}</td>
                  <td class="px-4 py-2 border">{{ item.product.title }}</td>
                  <td class="px-4 py-2 border">{{ item.product.brand.name }}</td>
                  <td class="px-4 py-2 border">{{ item.product.category.name }}</td>
                  <td class="px-4 py-2 border">
                    <img
                      width="50"
                      [src]="item.product.imageCover"
                      [alt]="item.product.title"
                      class="mx-auto rounded"
                    />
                  </td>
                  <td class="px-4 py-2 border">
                    {{ item.price | currency:'EUR' }}
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>

        <!-- معلومات إضافية -->
        <div class="mt-3 text-sm text-gray-600">
          <p>Total Price: {{ order.totalOrderPrice | currency:'EUR' }}</p>
          <p>Tax Price: {{ order.taxPrice| currency:'EUR' }}</p>
          <!-- @if (order.paymentMethodType=='card') {
            
            <p>Paid: {{ order.isPaid  }}</p>
          } -->
           <p>Paid: {{ order.isPaid ? 'Yes' : 'No' }}</p>
          <p>Delivered: {{ order.isDelivered ? 'Yes' : 'No' }}</p>
          <p>paymentType: {{ order.paymentMethodType }}</p>
        </div>
      </div>
    }
  } @else {
    <p class="text-gray-500">No orders found.</p>
  }
</section>
