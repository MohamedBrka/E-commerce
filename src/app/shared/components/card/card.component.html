<div
  class="max-w-sm overflow-hidden card hover:shadow-mainColor bg-white hover:scale-105 transition-all duration-1000  rounded-lg dark:bg-gray-900  flex flex-col h-full group/card"
>
  <!-- صورة المنتج -->
  <div
    class="cursor-pointer h-full "
    [routerLink]="['/details', product.slug, product._id]"
  >
    <img
      class=" p-1 "
      [src]="product.imageCover"
      [alt]="product.title"
    />

    <!-- محتوى الكارد -->
    <div class="p-5 flex flex-col flex-grow">
      <div class="flex items-center justify-between">
        <h3
          class="mb-2 text-2xl font-bold tracking-tight text-green-800 dark:text-white"
        >
          {{ product.category.name }}
        </h3>
        <span class="p-2 text-center">
          @if(isBlack===false){
          <i
            (click)="addProductItemToWishList(product._id, $event)"
            class="fa-solid fa-heart fa-lg cursor-pointer dark:text-white"
          ></i>
          }@else if(isBlack===true){
          <i
            (click)="removeItemWish(product._id, $event)"
            class="fa-solid text-red-600 fa-heart fa-lg cursor-pointer"
          ></i>
          }
        </span>
      </div>
      <h5
        class="mb-2 tracking-tight text-gray-900 dark:text-white line-clamp-1"
      >
        {{ product.title }}
      </h5>

      <!-- الوصف بياخد flex-grow -->
      <p
        class="mb-3 font-normal text-gray-700 dark:text-gray-400 flex-grow line-clamp-1"
      >
        {{ product.description }}
      </p>

      <!-- السعر والتقييم -->
      <div class="flex items-center justify-between mt-auto dark:text-white">
        <span>{{ product.price }} EGP</span>
        <span>
          <i class="fa-solid fa-star text-yellow-400"></i>
          {{ product.ratingsAverage }}
        </span>
      </div>
    </div>
  </div>

  <!-- <i
    (click)="addProductItemToWishList(product._id)"
    (click)="isBlack = !isBlack"
    class="fa-solid fa-heart fa-xl mb-3 cursor-pointer"
    [class.text-red-600]="!isBlack"
    [class.text-black]="isBlack"
  >
  </i> -->

  <button
    (click)="addProductItemToCart(product._id)"
    class="btn translate-y-[120%] group-hover/card:translate-y-0"
  >
    Add Card
  </button>
</div>
